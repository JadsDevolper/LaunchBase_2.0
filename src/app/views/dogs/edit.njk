{% extends "layout.njk" %}

{% block content %}

  <div class="card">
    <section 
      class="avatar" 
      style="max-height: 890px; background: url({{ dog.avatar_url }}) no-repeat center center / cover">
    </section>
    
    <section class="details">

      <form method="POST" action="/dogs?_method=PUT">
        
          <h3>Editar dados do Pet</h3>

          {% include 'dogs/fields.njk' %}

          <input type="hidden" name="id" value="{{ dog.id }}">
        
      </form>

      <form id="form-delete" action="/dogs?_method=DELETE" method="POST">
        <input type="hidden" name="id" value="{{ dog.id }}">
        <button type="submit">Deletar</button>
      </form>

      <script>
        const formDelete = document.querySelect('form-delete')
        formDelete.addEventListener('submit', function(event) {
          const confirmation = confirm('Deseja deletar?')
          if(!confirmation) event.preventDefault()
        })
      </script>

    </section>


  </div>

{% endblock content %}